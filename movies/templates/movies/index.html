{% extends 'base.html' %}
{% load bootstrap4 %}

{% block style %}
<style>
  /* Add your custom styles here */
  .movie-card {
    margin-bottom: 20px;
    height: 100%; /* Set a fixed height for the card */
  }

  .movie-card__image {
    width: 100%;
    height: 70%; /* Adjust the height of the image */
    object-fit: cover; /* Ensure the image covers the entire space */
  }

  .movie-card__content {
    height: 30%; /* Adjust the height of the content area */
    position: relative; /* Set the position to relative for the content area */
  }

  .movie-card__overview {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 10px;
    color: white;
    background-color: rgba(0, 0, 0, 0.8); /* Add a semi-transparent black background */
    opacity: 0;
    transition: opacity 0.3s ease; /* Add transition effect for opacity */
  }

  .movie-card__content:hover .movie-card__overview {
    opacity: 1; /* Show the overview on hover */
  }
</style>
{% endblock style %}

{% block content %}
  <div class="container">
    <h1>추천 영화</h1>
    <div class="row">
      {% for resdata in resdatas %}
        <div class="col-md-3">
          <div class="card h-100 movie-card">
            <img src="https://www.themoviedb.org/t/p/w300_and_h450_bestv2/{{ resdata.poster_path }}" alt="{{ resdata.title }}" class="card-img-top movie-card__image">
            <div class="card-body movie-card__content">
              <h5 class="card-title">
                <a href="{% url 'movies:detail' resdata.id %}">{{ resdata.title }}</a>
              </h5>
              <p class="card-text">평점: {{ resdata.vote_average }}</p>
              <p class="card-text">장르:
                {% for genre_id in resdata.genre_ids %}
                  {% for data in datas %}
                    {% ifequal genre_id data.id %}
                      {{ data.name }}
                    {% endifequal %}
                  {% endfor %}
                {% endfor %}
              </p>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>

  <h1>당신을 위한 영화</h1>
  <hr>
  
  <h1>컬렉션</h1>
{% endblock content %}
